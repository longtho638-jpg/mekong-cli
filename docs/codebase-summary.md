# Codebase Summary
> Updated: January 18, 2026

## ğŸ¯ Architecture Overview

AgencyOS uses a **Domain-Driven Design (DDD)** approach, organizing business logic into 16 semantic packages within `core/`. The CLI and Backend API act as interfaces to this core logic.

### ğŸ“‚ Core Domains (`core/`)

| Package | Purpose | Key Modules |
| :--- | :--- | :--- |
| **agents** | AI Personas & Orchestration | `agent_orchestrator.py`, `personas/` |
| **ai** | AI Intelligence | `hybrid_router.py` (Model Routing) |
| **analytics** | Data Analysis | `analytics.py`, `capacity_dashboard.py` |
| **automation** | Workflow Automation | `autopilot.py` (Revenue Autopilot) |
| **content** | Content Generation | `service.py`, `seo.py` |
| **crm** | Customer Relationship | `csm.py`, `client_portal.py` |
| **dashboard** | Unified Reporting | `service.py` |
| **finance** | Financial Management | `invoicing.py`, `gateways/`, `revenue_forecasting.py` |
| **franchise** | Franchise System | `franchise.py` |
| **growth** | Marketing & Growth | `content_marketing.py`, `vibe_tuner.py` |
| **hr** | Team Management | `agency_scorecard.py`, `team.py` |
| **infrastructure** | Technical Infra | `notifications.py`, `database.py` |
| **legal** | Legal Documents | `contract.py` |
| **monitoring** | System Monitoring | `watcher.py` (Empire Watcher) |
| **ops** | Operations | `scheduler.py` |
| **outreach** | Sales Outreach | `service.py`, `repository.py` |
| **sales** | Product & Proposals | `catalog.py`, `proposals.py` |

### ğŸ”Œ Interfaces

*   **CLI (`cli/`)**: Built with **Typer**. Entry point: `main.py` -> `cli/entrypoint.py`.
*   **Backend (`backend/`)**: Built with **FastAPI**. Entry point: `backend/main.py`.

### ğŸ› ï¸ Scripts (`scripts/`)

*   `ops/`: Operational scripts (start server, setup).
*   `legacy/`: Archived scripts from previous versions.

## ğŸš€ Key Workflows

1.  **Revenue Autopilot**: `core.automation.autopilot` runs daily checks on revenue and leads.
2.  **Hybrid Routing**: `core.ai.hybrid_router` optimizes AI costs by selecting the best model (Gemini/Claude/Llama).
3.  **Agent Orchestration**: `core.agent_orchestrator` manages AI agents defined in Markdown.

---
*Generated by AgencyOS Refactoring Engine*