# üèóÔ∏è Plan: Ingest Top-Tier Architecture Knowledge

> **Goal:** "N·∫°p" (Ingest) ki·∫øn tr√∫c chu·∫©n (Clean Architecture, DDD, Hexagonal) v√†o b·ªô nh·ªõ c·ªßa AgencyOS ƒë·ªÉ AI kh√¥ng sinh ra "code r·ªóng ru·ªôt".

## 1. Ph√¢n T√≠ch (Binh Ph√°p)

*   **V·∫•n ƒë·ªÅ:** "Vibe coding" th∆∞·ªùng ch·ªâ t·∫°o ra b·ªÅ n·ªïi (UI/Frontend) t·ªët, nh∆∞ng thi·∫øu chi·ªÅu s√¢u (Backend logic, Scalability).
*   **Gi·∫£i ph√°p:** Cung c·∫•p "B·∫£n v·∫Ω m√≥ng" (Architecture Blueprints) t·ª´ c√°c repo chu·∫©n m·ª±c th·∫ø gi·ªõi.
*   **Chi·∫øn thu·∫≠t:** L∆∞u tr·ªØ c√°c pattern n√†y d∆∞·ªõi d·∫°ng *Knowledge Base* v√† *Templates* ƒë·ªÉ Agent (Planner/Architect) tham chi·∫øu tr∆∞·ªõc khi vi·∫øt code.

## 2. K·∫ø Ho·∫°ch Th·ª±c Thi (Implementation)

### Phase 1: Knowledge Base (T√†ng Kinh C√°c)
- [ ] T·∫°o `docs/architecture/top-tier-repos.md`: L∆∞u danh s√°ch 6 repo "x·ªãn" k√®m ph√¢n t√≠ch chi ti·∫øt *T·∫°i sao* v√† *Khi n√†o d√πng*.
- [ ] T·∫°o `docs/architecture/clean-architecture-map.md`: Mapping th∆∞ m·ª•c chu·∫©n (Domain -> Application -> Infra).

### Phase 2: Agent DNA (T∆∞ Duy Ki·∫øn Tr√∫c)
- [ ] T·∫°o `.agencyos/agents/rules/architect.md`: Lu·∫≠t b·∫•t bi·∫øn - "Kh√¥ng code khi ch∆∞a c√≥ b·∫£n v·∫Ω".
- [ ] ƒê·ªãnh nghƒ©a quy t·∫Øc ch·ªçn Architecture d·ª±a tr√™n lo·∫°i d·ª± √°n (Simple CRUD vs Complex Domain).

### Phase 3: Templates (Khu√¥n M·∫´u)
- [ ] T·∫°o `templates/architecture/structure_backend.txt`: C·∫•u tr√∫c th∆∞ m·ª•c chu·∫©n cho Backend.
- [ ] T·∫°o `templates/architecture/structure_nextjs.txt`: C·∫•u tr√∫c chu·∫©n cho Next.js Clean Arch.

### Phase 4: CLI Integration (C√¥ng C·ª•)
- [ ] T·∫°o command `/arch` ƒë·ªÉ list c√°c reference n√†y ngay trong terminal.

## 3. Output Artifacts

1.  `docs/architecture/top-tier-repos.md`
2.  `.agencyos/rules/architecture-first.md`
3.  `.agencyos/commands/arch.md`
4.  `templates/architecture/domain_driven_structure.md`

## 4. Mapping .claude
C√°c file n√†y s·∫Ω ƒë∆∞·ª£c mapping v√†o Context Window c·ªßa Claude/Gemini khi ch·∫°y l·ªánh `/arch` ho·∫∑c khi k√≠ch ho·∫°t agent `architect`.
